{% extends 'treble/base.html' %}
{% load staticfiles %}

{% block title_block %}
    Log In
{% endblock %}

{% block body_block %}
<div >
    <div class="row justify-content-md-left">
        <img class = "col-md-auto" id="picture" src="{% static '/profile_images/unnamed.jpg' %}"/>
        <h1 class = "col col-lg-2">{{ user }}</h1>

    </div>
    <h2 class = "col col-lg-2">{{ user.user.email }}</h2>
    <div id="favourites" class="row-3">
        <h1>{{ user }}'s Favourites</h1>
        <div>
          <ul class="link-container">
              {% for song in user.favourites.all %}
                  <li class="song-link">
                      <a href="{% url 'song' song.song_id %}">
                          <img src="{{ song.artwork_url }}"/>
                          <div class="song-title">
                              <p>{{ song.track_name }}</p>
                          </div>
                      </a>
                  </li>
              {% endfor %}
          </ul>
        </div>
    </div>
    <div id="reviews" class="row-4">
        <h1>{{ user }}'s Reviews</h1>
        <div>
          <ul class="row">
            {% if user.comments.count > 0 %}
                {% for comment in user.comments.all %}
                    <div class="col-md-6">
                        <b>Song name: {{ comment.song_id }}</b><br>
                        <b>Reaction:</b>{{ comment.get_reaction_display }}
                        <p>{{ comment.message }}</p>
                    </div>
                {% endfor %}
            {% endif %}
          </ul>
        </div>
    </div>
</div>
{% endblock %}
